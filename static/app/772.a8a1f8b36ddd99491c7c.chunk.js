(self["webpackChunkspace_1"]=self["webpackChunkspace_1"]||[]).push([[772],{3772:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return _}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-8"},[t.userAccount?a("form",{attrs:{name:"editForm",role:"form",novalidate:""},on:{submit:function(e){return e.preventDefault(),t.save()}}},[a("h2",{attrs:{id:"myUserLabel"},domProps:{textContent:t._s(t.$t("userManagement.home.createOrEditLabel"))}},[t._v("Create or edit a User")]),t._v(" "),a("div",[a("div",{staticClass:"form-group",attrs:{hidden:!t.userAccount.id}},[a("label",{domProps:{textContent:t._s(t.$t("global.field.id"))}},[t._v("ID")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userAccount.id,expression:"userAccount.id"}],staticClass:"form-control",attrs:{type:"text",name:"id",readonly:""},domProps:{value:t.userAccount.id},on:{input:function(e){e.target.composing||t.$set(t.userAccount,"id",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-control-label",domProps:{textContent:t._s(t.$t("userManagement.login"))}},[t._v("Login")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.userAccount.login.$model,expression:"$v.userAccount.login.$model"}],staticClass:"form-control",class:{valid:!t.$v.userAccount.login.$invalid,invalid:t.$v.userAccount.login.$invalid},attrs:{type:"text",name:"login"},domProps:{value:t.$v.userAccount.login.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.userAccount.login,"$model",e.target.value)}}}),t._v(" "),t.$v.userAccount.login.$anyDirty&&t.$v.userAccount.login.$invalid?a("div",[t.$v.userAccount.login.required?t._e():a("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("entity.validation.required"))}},[t._v("\n              This field is required.\n            ")]),t._v(" "),t.$v.userAccount.login.maxLength?t._e():a("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("entity.validation.maxlength",{max:50}))}},[t._v("\n              This field cannot be longer than 50 characters.\n            ")]),t._v(" "),t.$v.userAccount.login.pattern?t._e():a("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("entity.validation.patternLogin"))}},[t._v("\n              This field can only contain letters, digits and e-mail addresses.\n            ")])]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-control-label",attrs:{for:"firstName"},domProps:{textContent:t._s(t.$t("userManagement.firstName"))}},[t._v("First Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.userAccount.firstName.$model,expression:"$v.userAccount.firstName.$model"}],staticClass:"form-control",class:{valid:!t.$v.userAccount.firstName.$invalid,invalid:t.$v.userAccount.firstName.$invalid},attrs:{type:"text",id:"firstName",name:"firstName",placeholder:t.$t("settings.form['firstname.placeholder']")},domProps:{value:t.$v.userAccount.firstName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.userAccount.firstName,"$model",e.target.value)}}}),t._v(" "),t.$v.userAccount.firstName.$anyDirty&&t.$v.userAccount.firstName.$invalid?a("div",[t.$v.userAccount.firstName.maxLength?t._e():a("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("entity.validation.maxlength",{max:50}))}},[t._v("\n              This field cannot be longer than 50 characters.\n            ")])]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-control-label",attrs:{for:"lastName"},domProps:{textContent:t._s(t.$t("userManagement.lastName"))}},[t._v("Last Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.userAccount.lastName.$model,expression:"$v.userAccount.lastName.$model"}],staticClass:"form-control",class:{valid:!t.$v.userAccount.lastName.$invalid,invalid:t.$v.userAccount.lastName.$invalid},attrs:{type:"text",id:"lastName",name:"lastName",placeholder:t.$t("settings.form['lastname.placeholder']")},domProps:{value:t.$v.userAccount.lastName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.userAccount.lastName,"$model",e.target.value)}}}),t._v(" "),t.$v.userAccount.lastName.$anyDirty&&t.$v.userAccount.lastName.$invalid?a("div",[t.$v.userAccount.lastName.maxLength?t._e():a("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("entity.validation.maxlength",{max:50}))}},[t._v("\n              This field cannot be longer than 50 characters.\n            ")])]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-control-label",attrs:{for:"email"},domProps:{textContent:t._s(t.$t("userManagement.email"))}},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.userAccount.email.$model,expression:"$v.userAccount.email.$model"}],staticClass:"form-control",class:{valid:!t.$v.userAccount.email.$invalid,invalid:t.$v.userAccount.email.$invalid},attrs:{type:"email",id:"email",name:"email",placeholder:t.$t("global.form['email.placeholder']"),email:"",required:""},domProps:{value:t.$v.userAccount.email.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.userAccount.email,"$model",e.target.value)}}}),t._v(" "),t.$v.userAccount.email.$anyDirty&&t.$v.userAccount.email.$invalid?a("div",[t.$v.userAccount.email.required?t._e():a("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("global.messages.validate.email.required"))}},[t._v("\n              Your email is required.\n            ")]),t._v(" "),t.$v.userAccount.email.email?t._e():a("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("global.messages.validate.email.invalid"))}},[t._v("\n              Your email is invalid.\n            ")]),t._v(" "),t.$v.userAccount.email.minLength?t._e():a("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("global.messages.validate.email.minlength"))}},[t._v("\n              Your email is required to be at least 5 characters.\n            ")]),t._v(" "),t.$v.userAccount.email.maxLength?t._e():a("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("global.messages.validate.email.maxlength"))}},[t._v("\n              Your email cannot be longer than 50 characters.\n            ")])]):t._e()]),t._v(" "),a("div",{staticClass:"form-check"},[a("label",{staticClass:"form-check-label",attrs:{for:"activated"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userAccount.activated,expression:"userAccount.activated"}],staticClass:"form-check-input",attrs:{disabled:null===t.userAccount.id,type:"checkbox",id:"activated",name:"activated"},domProps:{checked:Array.isArray(t.userAccount.activated)?t._i(t.userAccount.activated,null)>-1:t.userAccount.activated},on:{change:function(e){var a=t.userAccount.activated,n=e.target,s=!!n.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);n.checked?r<0&&t.$set(t.userAccount,"activated",a.concat([o])):r>-1&&t.$set(t.userAccount,"activated",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.userAccount,"activated",s)}}}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$t("userManagement.activated"))}},[t._v("Activated")])])]),t._v(" "),t.languages&&Object.keys(t.languages).length>0?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"langKey"},domProps:{textContent:t._s(t.$t("userManagement.langKey"))}},[t._v("Language")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.userAccount.langKey,expression:"userAccount.langKey"}],staticClass:"form-control",attrs:{id:"langKey",name:"langKey"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.userAccount,"langKey",e.target.multiple?a:a[0])}}},t._l(t.languages,(function(e,n){return a("option",{key:n,domProps:{value:n}},[t._v(t._s(e.name))])})),0)]):t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{domProps:{textContent:t._s(t.$t("userManagement.profiles"))}},[t._v("Profiles")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.userAccount.authorities,expression:"userAccount.authorities"}],staticClass:"form-control",attrs:{multiple:"",name:"authority"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.userAccount,"authorities",e.target.multiple?a:a[0])}}},t._l(t.authorities,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)])]),t._v(" "),a("div",[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.previousState()}}},[a("font-awesome-icon",{attrs:{icon:"ban"}}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$t("entity.action.cancel"))}},[t._v("Cancel")])],1),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.$v.userAccount.$invalid||t.isSaving}},[a("font-awesome-icon",{attrs:{icon:"save"}}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$t("entity.action.save"))}},[t._v("Save")])],1)])]):t._e()])])},s=[];n._withStripped=!0;var o=a(379),r=a(1157),i=function(){function t(t,e,a,n,s,o,r,i,l,c,u,m,v){this.id=t,this.login=e,this.firstName=a,this.lastName=n,this.email=s,this.activated=o,this.langKey=r,this.authorities=i,this.createdBy=l,this.createdDate=c,this.lastModifiedBy=u,this.lastModifiedDate=m,this.password=v}return t}(),l=function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),c=function(t,e,a,n){var s,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,n);else for(var i=t.length-1;i>=0;i--)(s=t[i])&&(r=(o<3?s(r):o>3?s(e,a,r):s(e,a))||r);return o>3&&r&&Object.defineProperty(e,a,r),r},u=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},m=function(t){return!t||/^[a-zA-Z0-9!$&*+=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$|^[_.@A-Za-z0-9-]+$/.test(t)},v={userAccount:{login:{required:o.C1,maxLength:(0,o.BS)(254),pattern:m},firstName:{maxLength:(0,o.BS)(50)},lastName:{maxLength:(0,o.BS)(50)},email:{required:o.C1,email:o.Do,minLength:(0,o.Ei)(5),maxLength:(0,o.BS)(50)}}},d=function(t){function e(){var e=t.call(this)||this;return e.isSaving=!1,e.authorities=[],e.languages=e.$store.getters.languages,e.userAccount=new i,e.userAccount.authorities=[],e}return l(e,t),e.prototype.beforeRouteEnter=function(t,e,a){a((function(e){e.initAuthorities(),t.params.userId&&e.init(t.params.userId)}))},e.prototype.initAuthorities=function(){var t=this;this.userManagementService().retrieveAuthorities().then((function(e){t.authorities=e.data}))},e.prototype.init=function(t){var e=this;this.userManagementService().get(t).then((function(t){e.userAccount=t.data}))},e.prototype.previousState=function(){this.$router.go(-1)},e.prototype.save=function(){var t=this;this.isSaving=!0,this.userAccount.id?this.userManagementService().update(this.userAccount).then((function(e){t.returnToList(),t.$root.$bvToast.toast(t.getMessageFromHeader(e).toString(),{toaster:"b-toaster-top-center",title:"Info",variant:"info",solid:!0,autoHideDelay:5e3})})):this.userManagementService().create(this.userAccount).then((function(e){t.returnToList(),t.$root.$bvToast.toast(t.getMessageFromHeader(e).toString(),{toaster:"b-toaster-top-center",title:"Success",variant:"success",solid:!0,autoHideDelay:5e3})}))},e.prototype.returnToList=function(){this.isSaving=!1,this.$router.go(-1)},e.prototype.getMessageFromHeader=function(t){return this.$t(t.headers["x-space1app-alert"],{param:decodeURIComponent(t.headers["x-space1app-params"].replace(/\+/g," "))})},c([(0,r.tB)("userService"),u("design:type",Function)],e.prototype,"userManagementService",void 0),e=c([(0,r.wA)({validations:v}),u("design:paramtypes",[])],e),e}(r.w3),p=d,f=p,g=a(1900),$=(0,g.Z)(f,n,s,!1,null,null,null);$.options.__file="src/main/webapp/app/admin/user-management/user-management-edit.vue";var _=$.exports}}]);
//# sourceMappingURL=772.a8a1f8b36ddd99491c7c.chunk.js.map