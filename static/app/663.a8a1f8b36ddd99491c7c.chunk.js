(self["webpackChunkspace_1"]=self["webpackChunkspace_1"]||[]).push([[663],{4663:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return _}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",[r("span",{attrs:{id:"user-management-page-heading","data-cy":"userManagementPageHeading"},domProps:{textContent:t._s(t.$t("userManagement.home.title"))}},[t._v("Users")]),t._v(" "),r("div",{staticClass:"d-flex justify-content-end"},[r("button",{staticClass:"btn btn-info mr-2",attrs:{disabled:t.isLoading},on:{click:t.handleSyncList}},[r("font-awesome-icon",{attrs:{icon:"sync",spin:t.isLoading}}),t._v(" "),r("span",{domProps:{textContent:t._s(t.$t("userManagement.home.refreshListLabel"))}},[t._v("Refresh List")])],1),t._v(" "),r("router-link",{attrs:{custom:"",to:{name:"JhiUserCreate"}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.navigate;return[r("button",{staticClass:"btn btn-primary jh-create-entity",on:{click:n}},[r("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" "),r("span",{domProps:{textContent:t._s(t.$t("userManagement.home.createLabel"))}},[t._v("Create a new User")])],1)]}}])})],1)]),t._v(" "),t.users?r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-striped",attrs:{"aria-describedby":"Users"}},[r("thead",[r("tr",[r("th",{attrs:{scope:"col"},on:{click:function(e){return t.changeOrder("id")}}},[r("span",{domProps:{textContent:t._s(t.$t("global.field.id"))}},[t._v("ID")]),t._v(" "),r("jhi-sort-indicator",{attrs:{"current-order":t.propOrder,reverse:t.reverse,"field-name":"id"}})],1),t._v(" "),r("th",{attrs:{scope:"col"},on:{click:function(e){return t.changeOrder("login")}}},[r("span",{domProps:{textContent:t._s(t.$t("userManagement.login"))}},[t._v("Login")]),t._v(" "),r("jhi-sort-indicator",{attrs:{"current-order":t.propOrder,reverse:t.reverse,"field-name":"login"}})],1),t._v(" "),r("th",{attrs:{scope:"col"},on:{click:function(e){return t.changeOrder("email")}}},[r("span",{domProps:{textContent:t._s(t.$t("userManagement.email"))}},[t._v("Email")]),t._v(" "),r("jhi-sort-indicator",{attrs:{"current-order":t.propOrder,reverse:t.reverse,"field-name":"email"}})],1),t._v(" "),r("th",{attrs:{scope:"col"}}),t._v(" "),r("th",{attrs:{scope:"col"},on:{click:function(e){return t.changeOrder("langKey")}}},[r("span",{domProps:{textContent:t._s(t.$t("userManagement.langKey"))}},[t._v("Lang Key")]),t._v(" "),r("jhi-sort-indicator",{attrs:{"current-order":t.propOrder,reverse:t.reverse,"field-name":"langKey"}})],1),t._v(" "),r("th",{attrs:{scope:"col"}},[r("span",{domProps:{textContent:t._s(t.$t("userManagement.profiles"))}},[t._v("Profiles")])]),t._v(" "),r("th",{attrs:{scope:"col"},on:{click:function(e){return t.changeOrder("createdDate")}}},[r("span",{domProps:{textContent:t._s(t.$t("userManagement.createdDate"))}},[t._v("Created Date")]),t._v(" "),r("jhi-sort-indicator",{attrs:{"current-order":t.propOrder,reverse:t.reverse,"field-name":"createdDate"}})],1),t._v(" "),r("th",{attrs:{scope:"col"},on:{click:function(e){return t.changeOrder("lastModifiedBy")}}},[r("span",{domProps:{textContent:t._s(t.$t("userManagement.lastModifiedBy"))}},[t._v("Last Modified By")]),t._v(" "),r("jhi-sort-indicator",{attrs:{"current-order":t.propOrder,reverse:t.reverse,"field-name":"lastModifiedBy"}})],1),t._v(" "),r("th",{attrs:{scope:"col",id:"modified-date-sort"},on:{click:function(e){return t.changeOrder("lastModifiedDate")}}},[r("span",{domProps:{textContent:t._s(t.$t("userManagement.lastModifiedDate"))}},[t._v("Last Modified Date")]),t._v(" "),r("jhi-sort-indicator",{attrs:{"current-order":t.propOrder,reverse:t.reverse,"field-name":"lastModifiedDate"}})],1),t._v(" "),r("th",{attrs:{scope:"col"}})])]),t._v(" "),t.users?r("tbody",t._l(t.users,(function(e){return r("tr",{key:e.id,attrs:{id:e.login}},[r("td",[r("router-link",{attrs:{to:{name:"JhiUserView",params:{userId:e.login}}}},[t._v(t._s(e.id))])],1),t._v(" "),r("td",[t._v(t._s(e.login))]),t._v(" "),r("td",{staticClass:"jhi-user-email"},[t._v(t._s(e.email))]),t._v(" "),r("td",[e.activated?t._e():r("button",{staticClass:"btn btn-danger btn-sm deactivated",domProps:{textContent:t._s(t.$t("userManagement.deactivated"))},on:{click:function(r){return t.setActive(e,!0)}}},[t._v("\n              Deactivated\n            ")]),t._v(" "),e.activated?r("button",{staticClass:"btn btn-success btn-sm",attrs:{disabled:t.username===e.login},domProps:{textContent:t._s(t.$t("userManagement.activated"))},on:{click:function(r){return t.setActive(e,!1)}}},[t._v("\n              Activated\n            ")]):t._e()]),t._v(" "),r("td",[t._v(t._s(e.langKey))]),t._v(" "),r("td",t._l(e.authorities,(function(e){return r("div",{key:e},[r("span",{staticClass:"badge badge-info"},[t._v(t._s(e))])])})),0),t._v(" "),e.createdDate?r("td",[t._v(t._s(t.$d(Date.parse(e.createdDate),"short")))]):r("td",[t._v(t._s(t._f("formatDate")(e.createdDate)))]),t._v(" "),r("td",[t._v(t._s(e.lastModifiedBy))]),t._v(" "),e.lastModifiedDate?r("td",[t._v(t._s(t.$d(Date.parse(e.lastModifiedDate),"short")))]):r("td",[t._v(t._s(t._f("formatDate")(e.lastModifiedDate)))]),t._v(" "),r("td",{staticClass:"text-right"},[r("div",{staticClass:"btn-group"},[r("router-link",{attrs:{to:{name:"JhiUserView",params:{userId:e.login}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.navigate;return[r("button",{staticClass:"btn btn-info btn-sm details",on:{click:n}},[r("font-awesome-icon",{attrs:{icon:"eye"}}),t._v(" "),r("span",{staticClass:"d-none d-md-inline",domProps:{textContent:t._s(t.$t("entity.action.view"))}},[t._v("View")])],1)]}}],null,!0)}),t._v(" "),r("router-link",{attrs:{to:{name:"JhiUserEdit",params:{userId:e.login}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.navigate;return[r("button",{staticClass:"btn btn-primary btn-sm edit",on:{click:n}},[r("font-awesome-icon",{attrs:{icon:"pencil-alt"}}),t._v(" "),r("span",{staticClass:"d-none d-md-inline",domProps:{textContent:t._s(t.$t("entity.action.edit"))}},[t._v("Edit")])],1)]}}],null,!0)}),t._v(" "),r("b-button",{staticClass:"btn btn-sm delete",attrs:{variant:"danger",disabled:t.username===e.login},on:{click:function(r){return t.prepareRemove(e)}}},[r("font-awesome-icon",{attrs:{icon:"times"}}),t._v(" "),r("span",{staticClass:"d-none d-md-inline",domProps:{textContent:t._s(t.$t("entity.action.delete"))}},[t._v("Delete")])],1)],1)])])})),0):t._e()]),t._v(" "),r("b-modal",{ref:"removeUser",attrs:{id:"removeUser",title:t.$t("entity.delete.title")},on:{ok:function(e){return t.deleteUser()}}},[r("div",{staticClass:"modal-body"},[r("p",{attrs:{id:"jhi-delete-user-heading"},domProps:{textContent:t._s(t.$t("userManagement.delete.question",{login:t.removeId}))}},[t._v("\n          Are you sure you want to delete this user?\n        ")])]),t._v(" "),r("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},domProps:{textContent:t._s(t.$t("entity.action.cancel"))},on:{click:function(e){return t.closeDialog()}}},[t._v("Cancel")]),t._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"confirm-delete-user"},domProps:{textContent:t._s(t.$t("entity.action.delete"))},on:{click:function(e){return t.deleteUser()}}},[t._v("\n          Delete\n        ")])])])],1):t._e(),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.users&&t.users.length>0,expression:"users && users.length > 0"}]},[r("div",{staticClass:"row justify-content-center"},[r("jhi-item-count",{attrs:{page:t.page,total:t.queryCount,itemsPerPage:t.itemsPerPage}})],1),t._v(" "),r("div",{staticClass:"row justify-content-center"},[r("b-pagination",{attrs:{size:"md","total-rows":t.totalItems,"per-page":t.itemsPerPage,change:t.loadPage(t.page)},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)])])},s=[];n._withStripped=!0;var o=r(1157),a=r(4494),i=r.n(a),c=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),d=function(t,e,r,n){var s,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var i=t.length-1;i>=0;i--)(s=t[i])&&(a=(o<3?s(a):o>3?s(e,r,a):s(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},l=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.error="",e.success="",e.users=[],e.itemsPerPage=20,e.queryCount=null,e.page=1,e.previousPage=1,e.propOrder="id",e.reverse=!1,e.totalItems=0,e.isLoading=!1,e.removeId=null,e}return c(e,t),e.prototype.mounted=function(){this.loadAll()},e.prototype.setActive=function(t,e){var r=this;t.activated=e,this.userManagementService().update(t).then((function(){r.error=null,r.success="OK",r.loadAll()})).catch((function(){r.success=null,r.error="ERROR",t.activated=!1}))},e.prototype.loadAll=function(){var t=this;this.isLoading=!0,this.userManagementService().retrieve({page:this.page-1,size:this.itemsPerPage,sort:this.sort()}).then((function(e){t.isLoading=!1,t.users=e.data,t.totalItems=Number(e.headers["x-total-count"]),t.queryCount=t.totalItems})).catch((function(){t.isLoading=!1}))},e.prototype.handleSyncList=function(){this.loadAll()},e.prototype.sort=function(){var t=[this.propOrder+","+(this.reverse?"desc":"asc")];return"id"!==this.propOrder&&t.push("id"),t},e.prototype.loadPage=function(t){t!==this.previousPage&&(this.previousPage=t,this.transition())},e.prototype.transition=function(){this.loadAll()},e.prototype.changeOrder=function(t){this.propOrder=t,this.reverse=!this.reverse,this.transition()},e.prototype.deleteUser=function(){var t=this;this.userManagementService().remove(this.removeId).then((function(e){var r="success delete!";t.$bvToast.toast(r.toString(),{toaster:"b-toaster-top-center",title:"Info",variant:"danger",solid:!0,autoHideDelay:5e3}),t.removeId=null,t.loadAll(),t.closeDialog()}))},e.prototype.prepareRemove=function(t){this.removeId=t.login,this.$refs.removeUser&&this.$refs.removeUser.show()},e.prototype.closeDialog=function(){this.$refs.removeUser&&this.$refs.removeUser.hide()},Object.defineProperty(e.prototype,"username",{get:function(){return this.$store.getters.account?this.$store.getters.account.login:""},enumerable:!1,configurable:!0}),d([(0,o.tB)("userService"),l("design:type",Function)],e.prototype,"userManagementService",void 0),e=d([(0,o.wA)({mixins:[i().mixin]})],e),e}(o.w3),p=u,v=p,m=r(1900),f=(0,m.Z)(v,n,s,!1,null,null,null);f.options.__file="src/main/webapp/app/admin/user-management/user-management.vue";var _=f.exports}}]);
//# sourceMappingURL=663.a8a1f8b36ddd99491c7c.chunk.js.map