(self["webpackChunkspace_1"]=self["webpackChunkspace_1"]||[]).push([[626],{2626:function(s,r,e){"use strict";e.r(r),e.d(r,{default:function(){return g}});var t=function(){var s=this,r=s.$createElement,e=s._self._c||r;return e("div",[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-8 toastify-container"},[s.account?e("h2",{attrs:{id:"password-title"}},[e("span",{domProps:{innerHTML:s._s(s.$t("password.title",{username:s.username}))}},[s._v("\n          Password for ["),e("strong",[s._v(s._s(s.username))]),s._v("]")])]):s._e(),s._v(" "),s.success?e("div",{staticClass:"alert alert-success",attrs:{role:"alert"},domProps:{innerHTML:s._s(s.$t("password.messages.success"))}},[e("strong",[s._v("Password changed!")])]):s._e(),s._v(" "),s.error?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"},domProps:{innerHTML:s._s(s.$t("password.messages.error"))}},[e("strong",[s._v("An error has occurred!")]),s._v(" The password could not be changed.\n      ")]):s._e(),s._v(" "),s.doNotMatch?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"},domProps:{textContent:s._s(s.$t("global.messages.error.dontmatch"))}},[s._v("\n        The password and its confirmation do not match!\n      ")]):s._e(),s._v(" "),e("form",{attrs:{name:"form",role:"form",id:"password-form"},on:{submit:function(r){return r.preventDefault(),s.changePassword()}}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-control-label",attrs:{for:"currentPassword"},domProps:{textContent:s._s(s.$t("global.form['currentpassword.label']"))}},[s._v("Current password")]),s._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:s.$v.resetPassword.currentPassword.$model,expression:"$v.resetPassword.currentPassword.$model"}],staticClass:"form-control",class:{valid:!s.$v.resetPassword.currentPassword.$invalid,invalid:s.$v.resetPassword.currentPassword.$invalid},attrs:{type:"password",id:"currentPassword",name:"currentPassword",placeholder:s.$t("global.form['currentpassword.placeholder']"),required:"","data-cy":"currentPassword"},domProps:{value:s.$v.resetPassword.currentPassword.$model},on:{input:function(r){r.target.composing||s.$set(s.$v.resetPassword.currentPassword,"$model",r.target.value)}}}),s._v(" "),s.$v.resetPassword.currentPassword.$anyDirty&&s.$v.resetPassword.currentPassword.$invalid?e("div",[s.$v.resetPassword.currentPassword.required?s._e():e("small",{staticClass:"form-text text-danger",domProps:{textContent:s._s(s.$t("global.messages.validate.newpassword.required"))}},[s._v("\n              Your password is required.\n            ")])]):s._e()]),s._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-control-label",attrs:{for:"newPassword"},domProps:{textContent:s._s(s.$t("global.form['newpassword.label']"))}},[s._v("New password")]),s._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:s.$v.resetPassword.newPassword.$model,expression:"$v.resetPassword.newPassword.$model"}],staticClass:"form-control",class:{valid:!s.$v.resetPassword.newPassword.$invalid,invalid:s.$v.resetPassword.newPassword.$invalid},attrs:{type:"password",id:"newPassword",name:"newPassword",placeholder:s.$t("global.form['newpassword.placeholder']"),minlength:"4",maxlength:"50",required:"","data-cy":"newPassword"},domProps:{value:s.$v.resetPassword.newPassword.$model},on:{input:function(r){r.target.composing||s.$set(s.$v.resetPassword.newPassword,"$model",r.target.value)}}}),s._v(" "),s.$v.resetPassword.newPassword.$anyDirty&&s.$v.resetPassword.newPassword.$invalid?e("div",[s.$v.resetPassword.newPassword.required?s._e():e("small",{staticClass:"form-text text-danger",domProps:{textContent:s._s(s.$t("global.messages.validate.newpassword.required"))}},[s._v("\n              Your password is required.\n            ")]),s._v(" "),s.$v.resetPassword.newPassword.minLength?s._e():e("small",{staticClass:"form-text text-danger",domProps:{textContent:s._s(s.$t("global.messages.validate.newpassword.minlength"))}},[s._v("\n              Your password is required to be at least 4 characters.\n            ")]),s._v(" "),s.$v.resetPassword.newPassword.maxLength?s._e():e("small",{staticClass:"form-text text-danger",domProps:{textContent:s._s(s.$t("global.messages.validate.newpassword.maxlength"))}},[s._v("\n              Your password cannot be longer than 50 characters.\n            ")])]):s._e()]),s._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-control-label",attrs:{for:"confirmPassword"},domProps:{textContent:s._s(s.$t("global.form['confirmpassword.label']"))}},[s._v("New password confirmation")]),s._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:s.$v.resetPassword.confirmPassword.$model,expression:"$v.resetPassword.confirmPassword.$model"}],staticClass:"form-control",class:{valid:!s.$v.resetPassword.confirmPassword.$invalid,invalid:s.$v.resetPassword.confirmPassword.$invalid},attrs:{type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:s.$t("global.form['confirmpassword.placeholder']"),minlength:"4",maxlength:"50",required:"","data-cy":"confirmPassword"},domProps:{value:s.$v.resetPassword.confirmPassword.$model},on:{input:function(r){r.target.composing||s.$set(s.$v.resetPassword.confirmPassword,"$model",r.target.value)}}}),s._v(" "),s.$v.resetPassword.confirmPassword.$anyDirty&&s.$v.resetPassword.confirmPassword.$invalid?e("div",[s.$v.resetAccount.confirmPassword.sameAsPassword?s._e():e("small",{staticClass:"form-text text-danger",domProps:{textContent:s._s(s.$t("global.messages.error.dontmatch"))}},[s._v("\n              The password and its confirmation do not match!\n            ")])]):s._e()]),s._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:s.$v.resetPassword.$invalid,"data-cy":"submit"},domProps:{textContent:s._s(s.$t("password.form.button"))}},[s._v("\n          Save\n        ")])])])])])},o=[];t._withStripped=!0;var a=e(379),n=e(9669),d=e.n(n),l=e(629),i=e(5904),c=e(1157),w=function(){var s=function(r,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(s[e]=r[e])},s(r,e)};return function(r,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}s(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),u=function(){return u=Object.assign||function(s){for(var r,e=1,t=arguments.length;e<t;e++)for(var o in r=arguments[e],r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o]);return s},u.apply(this,arguments)},m=function(s,r,e,t){var o,a=arguments.length,n=a<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,e):t;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(s,r,e,t);else for(var d=s.length-1;d>=0;d--)(o=s[d])&&(n=(a<3?o(n):a>3?o(r,e,n):o(r,e))||n);return a>3&&n&&Object.defineProperty(r,e,n),n},v={resetPassword:{currentPassword:{required:a.C1},newPassword:{required:a.C1,minLength:(0,a.Ei)(4),maxLength:(0,a.BS)(254)},confirmPassword:{sameAsPassword:(0,a.sH)((function(s){return s.newPassword}))}}},p=function(s){function r(){var r=null!==s&&s.apply(this,arguments)||this;return r.success=null,r.error=null,r.doNotMatch=null,r.resetPassword={currentPassword:null,newPassword:null,confirmPassword:null},r}return w(r,s),r.prototype.changePassword=function(){var s=this;this.resetPassword.newPassword!==this.resetPassword.confirmPassword?(this.error=null,this.success=null,this.doNotMatch="ERROR"):(this.doNotMatch=null,d().post("api/account/change-password",{currentPassword:this.resetPassword.currentPassword,newPassword:this.resetPassword.newPassword}).then((function(){s.success="OK",s.error=null})).catch((function(){s.success=null,s.error="ERROR"})))},Object.defineProperty(r.prototype,"username",{get:function(){return this.$store.getters.account?this.$store.getters.account.login:""},enumerable:!1,configurable:!0}),r=m([(0,i.ZP)({validations:v,computed:u({},(0,l.Se)(["account"]))})],r),r}(c.w3),P=p,f=P,$=e(1900),_=(0,$.Z)(f,t,o,!1,null,null,null);_.options.__file="src/main/webapp/app/account/change-password/change-password.vue";var g=_.exports}}]);
//# sourceMappingURL=626.a8a1f8b36ddd99491c7c.chunk.js.map