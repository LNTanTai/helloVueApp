(self["webpackChunkspace_1"]=self["webpackChunkspace_1"]||[]).push([[679],{9679:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return $}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-8 toastify-container"},[t.username?s("h2",{attrs:{id:"settings-title"}},[s("span",{domProps:{innerHTML:t._s(t.$t("settings.title",{username:t.username}))}},[t._v("User settings for ["),s("strong",[t._v(t._s(t.username))]),t._v("]")])]):t._e(),t._v(" "),t.success?s("div",{staticClass:"alert alert-success",attrs:{role:"alert"},domProps:{innerHTML:t._s(t.$t("settings.messages.success"))}},[s("strong",[t._v("Settings saved!")])]):t._e(),t._v(" "),t.errorEmailExists?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"},domProps:{innerHTML:t._s(t.$t("register.messages.error.emailexists"))}},[s("strong",[t._v("Email is already in use!")]),t._v(" Please choose another one.\n      ")]):t._e(),t._v(" "),t.settingsAccount?s("form",{attrs:{name:"form",id:"settings-form",role:"form",novalidate:""},on:{submit:function(e){return e.preventDefault(),t.save()}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-control-label",attrs:{for:"firstName"},domProps:{textContent:t._s(t.$t("settings.form.firstname"))}},[t._v("First Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.settingsAccount.firstName.$model,expression:"$v.settingsAccount.firstName.$model"}],staticClass:"form-control",class:{valid:!t.$v.settingsAccount.firstName.$invalid,invalid:t.$v.settingsAccount.firstName.$invalid},attrs:{type:"text",id:"firstName",name:"firstName",placeholder:t.$t("settings.form['firstname.placeholder']"),minlength:"1",maxlength:"50",required:"","data-cy":"firstname"},domProps:{value:t.$v.settingsAccount.firstName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.settingsAccount.firstName,"$model",e.target.value)}}}),t._v(" "),t.$v.settingsAccount.firstName.$anyDirty&&t.$v.settingsAccount.firstName.$invalid?s("div",[t.$v.settingsAccount.firstName.required?t._e():s("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("settings.messages.validate.firstname.required"))}},[t._v("\n              Your first name is required.\n            ")]),t._v(" "),t.$v.settingsAccount.firstName.minLength?t._e():s("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("settings.messages.validate.firstname.minlength"))}},[t._v("\n              Your first name is required to be at least 1 character.\n            ")]),t._v(" "),t.$v.settingsAccount.firstName.maxLength?t._e():s("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("settings.messages.validate.firstname.maxlength"))}},[t._v("\n              Your first name cannot be longer than 50 characters.\n            ")])]):t._e()]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-control-label",attrs:{for:"lastName"},domProps:{textContent:t._s(t.$t("settings.form.lastname"))}},[t._v("Last Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.settingsAccount.lastName.$model,expression:"$v.settingsAccount.lastName.$model"}],staticClass:"form-control",class:{valid:!t.$v.settingsAccount.lastName.$invalid,invalid:t.$v.settingsAccount.lastName.$invalid},attrs:{type:"text",id:"lastName",name:"lastName",placeholder:t.$t("settings.form['lastname.placeholder']"),minlength:"1",maxlength:"50",required:"","data-cy":"lastname"},domProps:{value:t.$v.settingsAccount.lastName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.settingsAccount.lastName,"$model",e.target.value)}}}),t._v(" "),t.$v.settingsAccount.lastName.$anyDirty&&t.$v.settingsAccount.lastName.$invalid?s("div",[t.$v.settingsAccount.lastName.required?t._e():s("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("settings.messages.validate.lastname.required"))}},[t._v("\n              Your last name is required.\n            ")]),t._v(" "),t.$v.settingsAccount.lastName.minLength?t._e():s("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("settings.messages.validate.lastname.minlength"))}},[t._v("\n              Your last name is required to be at least 1 character.\n            ")]),t._v(" "),t.$v.settingsAccount.lastName.maxLength?t._e():s("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("settings.messages.validate.lastname.maxlength"))}},[t._v("\n              Your last name cannot be longer than 50 characters.\n            ")])]):t._e()]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-control-label",attrs:{for:"email"},domProps:{textContent:t._s(t.$t("global.form['email.label']"))}},[t._v("Email")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.settingsAccount.email.$model,expression:"$v.settingsAccount.email.$model"}],staticClass:"form-control",class:{valid:!t.$v.settingsAccount.email.$invalid,invalid:t.$v.settingsAccount.email.$invalid},attrs:{type:"email",id:"email",name:"email",placeholder:t.$t("global.form['email.placeholder']"),minlength:"5",maxlength:"254",email:"",required:"","data-cy":"email"},domProps:{value:t.$v.settingsAccount.email.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.settingsAccount.email,"$model",e.target.value)}}}),t._v(" "),t.$v.settingsAccount.email.$anyDirty&&t.$v.settingsAccount.email.$invalid?s("div",[t.$v.settingsAccount.email.required?t._e():s("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("global.messages.validate.email.required"))}},[t._v("\n              Your email is required.\n            ")]),t._v(" "),t.$v.settingsAccount.email.email?t._e():s("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("global.messages.validate.email.invalid"))}},[t._v("\n              Your email is invalid.\n            ")]),t._v(" "),t.$v.settingsAccount.email.minLength?t._e():s("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("global.messages.validate.email.minlength"))}},[t._v("\n              Your email is required to be at least 5 characters.\n            ")]),t._v(" "),t.$v.settingsAccount.email.maxLength?t._e():s("small",{staticClass:"form-text text-danger",domProps:{textContent:t._s(t.$t("global.messages.validate.email.maxlength"))}},[t._v("\n              Your email cannot be longer than 100 characters.\n            ")])]):t._e()]),t._v(" "),t.languages&&Object.keys(t.languages).length>1?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"langKey"},domProps:{textContent:t._s(t.$t("settings.form.language"))}},[t._v("Language")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.settingsAccount.langKey,expression:"settingsAccount.langKey"}],staticClass:"form-control",attrs:{id:"langKey",name:"langKey","data-cy":"langKey"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.settingsAccount,"langKey",e.target.multiple?s:s[0])}}},t._l(t.languages,(function(e,a){return s("option",{key:"lang-"+a,domProps:{value:a}},[t._v(t._s(e.name))])})),0)]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.$v.settingsAccount.$invalid,"data-cy":"submit"},domProps:{textContent:t._s(t.$t("settings.form.button"))}},[t._v("\n          Save\n        ")])]):t._e()])])])},n=[];a._withStripped=!0;var r=s(379),i=s(9669),o=s.n(i),l=s(4596),c=s(1157),m=function(){var t=function(e,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])},t(e,s)};return function(e,s){if("function"!==typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(a.prototype=s.prototype,new a)}}(),u=function(t,e,s,a){var n,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,s,a);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(i=(r<3?n(i):r>3?n(e,s,i):n(e,s))||i);return r>3&&i&&Object.defineProperty(e,s,i),i},g={settingsAccount:{firstName:{required:r.C1,minLength:(0,r.Ei)(1),maxLength:(0,r.BS)(50)},lastName:{required:r.C1,minLength:(0,r.Ei)(1),maxLength:(0,r.BS)(50)},email:{required:r.C1,email:r.Do,minLength:(0,r.Ei)(5),maxLength:(0,r.BS)(254)}}},v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.success=null,e.error=null,e.errorEmailExists=null,e.languages=e.$store.getters.languages||[],e}return m(e,t),e.prototype.save=function(){var t=this;this.error=null,this.errorEmailExists=null,o().post("api/account",this.settingsAccount).then((function(){t.error=null,t.success="OK",t.errorEmailExists=null})).catch((function(e){t.success=null,t.error="ERROR",400===e.response.status&&e.response.data.type===l.Ae&&(t.errorEmailExists="ERROR",t.error=null)}))},Object.defineProperty(e.prototype,"settingsAccount",{get:function(){return this.$store.getters.account},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"username",{get:function(){return this.$store.getters.account?this.$store.getters.account.login:""},enumerable:!1,configurable:!0}),e=u([(0,c.wA)({validations:g})],e),e}(c.w3),d=v,f=d,p=s(1900),_=(0,p.Z)(f,a,n,!1,null,null,null);_.options.__file="src/main/webapp/app/account/settings/settings.vue";var $=_.exports}}]);
//# sourceMappingURL=679.a8a1f8b36ddd99491c7c.chunk.js.map